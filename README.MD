# ğŸ›¡ï¸ WebGuard

**WebGuard** Ã© uma extensÃ£o de navegador anti-phishing desenvolvida como Trabalho de ConclusÃ£o de Curso (TCC), com o objetivo de **proteger usuÃ¡rios contra ataques de phishing** em URLs e e-mails. Utilizando machine learning, mÃºltiplas APIs de seguranÃ§a e um backend leve com Flask, a ferramenta oferece proteÃ§Ã£o em tempo real com interface amigÃ¡vel.

## ğŸ“Œ Objetivo

Reduzir a exposiÃ§Ã£o de usuÃ¡rios e pequenas empresas a ataques de phishing por meio de uma soluÃ§Ã£o acessÃ­vel, leve e eficaz â€” integrando detecÃ§Ã£o inteligente de URLs e e-mails maliciosos com base em modelos de machine learning e fontes confiÃ¡veis.

---

## ğŸš€ Funcionalidades

- âœ… VerificaÃ§Ã£o automÃ¡tica de URLs em tempo real.
- ğŸ“§ AnÃ¡lise de e-mails (remetente, assunto, anexos, corpo) no Gmail e Outlook.
- ğŸ“Š RelatÃ³rios de falsos positivos e negativos.
- ğŸ”” NotificaÃ§Ãµes interativas para URLs perigosas.
- ğŸ§  ClassificaÃ§Ã£o com modelo RandomForest treinado com +30.000 exemplos.
- ğŸŒ IntegraÃ§Ã£o com Google Safe Browsing, VirusTotal e PhishTank.

---

## ğŸ—ï¸ Arquitetura do Projeto

webguard/
â”œâ”€â”€ extension/
â”‚ â”œâ”€â”€ assets/
â”‚ â”œâ”€â”€ background.js
â”‚ â”œâ”€â”€ content.js
â”‚ â”œâ”€â”€ manifest.json
â”‚ â”œâ”€â”€ popup.html
â”‚ â”œâ”€â”€ popup.js
â”‚ â”œâ”€â”€ style.css
â”‚ â””â”€â”€ sweetalert2.all.min.js
â”œâ”€â”€ app.py # Backend Flask
â”œâ”€â”€ train_model.py # Treinamento ML
â”œâ”€â”€ dataset_phishing_and_security.csv
â”œâ”€â”€ url_classifier_model.pkl # Modelo RandomForest
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md

---

## âš™ï¸ Tecnologias Utilizadas

- **Frontend:** JavaScript, HTML, CSS, SweetAlert2
- **Backend:** Python (Flask)
- **Banco de Dados:** MySQL
- **Machine Learning:** TensorFlow, Scikit-learn (RandomForest)
- **APIs de SeguranÃ§a:** Google Safe Browsing, VirusTotal, PhishTank
- **Testes:** Jest (JS), Pytest (Python), Postman (integraÃ§Ã£o)
- **CI/CD:** GitHub Actions
- **Monitoramento:** Logs Flask + Kibana, mÃ©tricas com Prometheus

---

## ğŸ§ª Trechos de CÃ³digo (Exemplos CrÃ­ticos)

**ğŸ” VerificaÃ§Ã£o de URL no backend Flask:**

```python
@app.route('/check-url', methods=['POST'])
def check_url_api():
    data = request.get_json()
    url = data.get('url')
    model = load_model()
    # VerificaÃ§Ã£o sequencial com 3 APIs + ML
    if "perigoso" in check_url_google(url):
        return jsonify({'result': 'phishing-google'})
    if "perigoso" in check_url_virustotal(url):
        return jsonify({'result': 'phishing-virustotal'})
    if "phishing" in check_url_phishtank(url):
        return jsonify({'result': 'phishing-phishtank'})
    return jsonify({'result': predict_url_safety(url, model)})


ğŸ“¬ ExtraÃ§Ã£o de conteÃºdo de e-mails no popup.js:

function extractEmailContent() {
    let subject = '', sender = '', body = '', attachments = [];
    const gmBody = document.querySelector('div.a3s');
    if (gmBody && gmBody.innerText.trim()) body = gmBody.innerText;
    const match = document.body.innerText.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);
    if (match) sender = match[0];
    return { subject, sender, body, attachments };
}



âœ… Como Instalar (Modo Desenvolvedor)
1.Clone o repositÃ³rio:

git clone https://github.com/viniigdias/WebGuard.git

2.Acesse chrome://extensions/ no Chrome.

3.Ative o Modo Desenvolvedor (canto superior direito).

4.Clique em "Carregar sem compactaÃ§Ã£o" e selecione a pasta webguard/extension.

5.A extensÃ£o serÃ¡ adicionada e estarÃ¡ pronta para uso.


ğŸ“ˆ Resultados e MÃ©tricas:

| Indicador                    | Valor                |
| ---------------------------- | -------------------- |
| LatÃªncia mÃ©dia (URL)         | 400ms                |
| LatÃªncia mÃ©dia (E-mail)      | 600ms                |
| Throughput no servidor Flask | 2000 requisiÃ§Ãµes/min |
| Cobertura de cÃ³digo          | 95%                  |
| Custo x Netcraft             | -40%                 |


ğŸ› ï¸ PrÃ³ximas Funcionalidades
Suporte a Yahoo Mail e mais provedores.

VerificaÃ§Ã£o de anexos de e-mails.

Painel de administraÃ§Ã£o com mÃ©tricas.

Suporte a Firefox

IntegraÃ§Ã£o com APIs WHOIS e reputaÃ§Ã£o de domÃ­nios.

TraduÃ§Ã£o multilÃ­ngue da interface.

ğŸ“š CrÃ©ditos e InformaÃ§Ãµes
Autor: Vinicius Gomes Dias â€” RA 2217696

PerÃ­odo do projeto: 20/03/2025 a 06/06/2025

InstituiÃ§Ã£o: Universidade de Fortaleza

RepositÃ³rio Oficial: github.com/viniigdias/WebGuard

